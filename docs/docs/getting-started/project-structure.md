# é¡¹ç›®ç»“æ„

æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç» OLT Admin çš„é¡¹ç›®ç»“æ„å’Œæ–‡ä»¶ç»„ç»‡æ–¹å¼ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿç†è§£ä»£ç å¸ƒå±€ã€‚

## ğŸ“ æ ¹ç›®å½•ç»“æ„

```
olt-admin/
â”œâ”€â”€ docs/                    # ğŸ“š æ–‡æ¡£ç«™ç‚¹ (Docusaurus)
â”œâ”€â”€ public/                  # ğŸŒ é™æ€èµ„æº
â”œâ”€â”€ src/                     # ğŸ’» æºä»£ç ç›®å½•
â”œâ”€â”€ .env                     # ğŸ”§ ç¯å¢ƒå˜é‡
â”œâ”€â”€ .env.development         # ğŸ”§ å¼€å‘ç¯å¢ƒé…ç½®
â”œâ”€â”€ .env.production          # ğŸ”§ ç”Ÿäº§ç¯å¢ƒé…ç½®
â”œâ”€â”€ biome.json              # ğŸ” ä»£ç æ ¼å¼åŒ–é…ç½®
â”œâ”€â”€ components.json         # ğŸ§© shadcn/ui ç»„ä»¶é…ç½®
â”œâ”€â”€ lefthook.yml           # ğŸª Git hooks é…ç½®
â”œâ”€â”€ package.json           # ğŸ“¦ é¡¹ç›®ä¾èµ–
â”œâ”€â”€ pnpm-workspace.yaml    # ğŸ“¦ pnpm workspace é…ç½®
â”œâ”€â”€ tailwind.config.ts     # ğŸ¨ Tailwind CSS é…ç½®
â”œâ”€â”€ tsconfig.json          # ğŸ“ TypeScript é…ç½®
â””â”€â”€ vite.config.ts         # âš¡ Vite æ„å»ºé…ç½®
```

## ğŸ—ï¸ æºä»£ç ç»“æ„ (src/)

é¡¹ç›®é‡‡ç”¨ **Feature-Sliced Design** æ¶æ„æ¨¡å¼ï¼Œå°†ä»£ç æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡ï¼š

```
src/
â”œâ”€â”€ _mock/                   # ğŸ­ æ¨¡æ‹Ÿæ•°æ® (MSW)
â”‚   â”œâ”€â”€ handlers/           # API å¤„ç†å™¨
â”‚   â”œâ”€â”€ assets.ts          # æ¨¡æ‹Ÿèµ„æº
â”‚   â””â”€â”€ index.ts           # MSW é…ç½®
â”‚
â”œâ”€â”€ api/                     # ğŸ”Œ API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ services/          # é€šç”¨ API æœåŠ¡
â”‚   â”œâ”€â”€ apiClient.ts       # HTTP å®¢æˆ·ç«¯
â”‚   â””â”€â”€ fakeClient.ts      # æ¨¡æ‹Ÿå®¢æˆ·ç«¯
â”‚
â”œâ”€â”€ assets/                  # ğŸ–¼ï¸ é™æ€èµ„æº
â”‚   â”œâ”€â”€ icons/             # å›¾æ ‡æ–‡ä»¶
â”‚   â””â”€â”€ images/            # å›¾ç‰‡æ–‡ä»¶
â”‚
â”œâ”€â”€ components/              # ğŸ§© å…¨å±€å…±äº«ç»„ä»¶
â”‚   â”œâ”€â”€ animate/           # åŠ¨ç”»ç»„ä»¶
â”‚   â”œâ”€â”€ auth/              # è®¤è¯ç»„ä»¶
â”‚   â”œâ”€â”€ icon/              # å›¾æ ‡ç»„ä»¶
â”‚   â”œâ”€â”€ loading/           # åŠ è½½ç»„ä»¶
â”‚   â”œâ”€â”€ nav/               # å¯¼èˆªç»„ä»¶
â”‚   â”œâ”€â”€ olt-table/         # è¡¨æ ¼ç»„ä»¶
â”‚   â””â”€â”€ ...                # å…¶ä»–ç»„ä»¶
â”‚
â”œâ”€â”€ dict/                    # ğŸ“– å…¨å±€å­—å…¸
â”‚   â””â”€â”€ index.ts           # å¸¸é‡å®šä¹‰
â”‚
â”œâ”€â”€ hooks/                   # ğŸ£ è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ docs/              # Hooks æ–‡æ¡£
â”‚   â”œâ”€â”€ use-copy-to-clipboard.ts
â”‚   â”œâ”€â”€ use-media-query.ts
â”‚   â””â”€â”€ ...                # å…¶ä»– Hooks
â”‚
â”œâ”€â”€ layouts/                 # ğŸ“ å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ dashboard/         # ä»ªè¡¨ç›˜å¸ƒå±€
â”‚   â””â”€â”€ simple/            # ç®€å•å¸ƒå±€
â”‚
â”œâ”€â”€ locales/                 # ğŸŒ å›½é™…åŒ–
â”‚   â”œâ”€â”€ lang/              # è¯­è¨€åŒ…
â”‚   â”œâ”€â”€ i18n.ts            # i18n é…ç½®
â”‚   â””â”€â”€ use-locale.ts      # è¯­è¨€ Hook
â”‚
â”œâ”€â”€ pages/                   # ğŸ“„ é¡µé¢æ¨¡å— (Feature-Sliced)
â”‚   â”œâ”€â”€ dashboard/         # ä»ªè¡¨ç›˜æ¨¡å—
â”‚   â”œâ”€â”€ example/           # ç¤ºä¾‹æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ curd/          # CRUD ç¤ºä¾‹
â”‚   â”‚   â”‚   â”œâ”€â”€ posts/     # æ–‡ç« ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ role/      # è§’è‰²ç®¡ç†
â”‚   â”‚   â””â”€â”€ error/         # é”™è¯¯é¡µé¢
â”‚   â””â”€â”€ sys/               # ç³»ç»Ÿæ¨¡å—
â”‚
â”œâ”€â”€ routes/                  # ğŸ›£ï¸ è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ components/        # è·¯ç”±ç»„ä»¶
â”‚   â”œâ”€â”€ hooks/             # è·¯ç”± Hooks
â”‚   â””â”€â”€ sections/          # è·¯ç”±åˆ†ç»„
â”‚
â”œâ”€â”€ store/                   # ğŸ—„ï¸ å…¨å±€çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ cacheStore.ts      # ç¼“å­˜çŠ¶æ€
â”‚   â”œâ”€â”€ settingStore.ts    # è®¾ç½®çŠ¶æ€
â”‚   â””â”€â”€ userStore.ts       # ç”¨æˆ·çŠ¶æ€
â”‚
â”œâ”€â”€ styles/                  # ğŸ¨ å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ index.css          # ä¸»æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ olt-table.css      # è¡¨æ ¼æ ·å¼
â”‚   â””â”€â”€ rest-antd.css      # Ant Design é‡ç½®
â”‚
â”œâ”€â”€ theme/                   # ğŸŒˆ ä¸»é¢˜ç³»ç»Ÿ
â”‚   â”œâ”€â”€ adapter/           # ä¸»é¢˜é€‚é…å™¨
â”‚   â”œâ”€â”€ hooks/             # ä¸»é¢˜ Hooks
â”‚   â”œâ”€â”€ tokens/            # è®¾è®¡ä»¤ç‰Œ
â”‚   â”œâ”€â”€ theme-provider.tsx # ä¸»é¢˜æä¾›è€…
â”‚   â””â”€â”€ theme.css.ts       # ä¸»é¢˜æ ·å¼
â”‚
â”œâ”€â”€ types/                   # ğŸ“ å…¨å±€ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ api.ts             # API ç±»å‹
â”‚   â”œâ”€â”€ entity.ts          # å®ä½“ç±»å‹
â”‚   â”œâ”€â”€ enum.ts            # æšä¸¾ç±»å‹
â”‚   â””â”€â”€ router.ts          # è·¯ç”±ç±»å‹
â”‚
â”œâ”€â”€ ui/                      # ğŸ›ï¸ åŸºç¡€ UI ç»„ä»¶
â”‚   â”œâ”€â”€ button.tsx         # æŒ‰é’®ç»„ä»¶
â”‚   â”œâ”€â”€ input.tsx          # è¾“å…¥æ¡†ç»„ä»¶
â”‚   â”œâ”€â”€ dialog.tsx         # å¯¹è¯æ¡†ç»„ä»¶
â”‚   â””â”€â”€ ...                # å…¶ä»– UI ç»„ä»¶
â”‚
â”œâ”€â”€ utils/                   # ğŸ”§ å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ format-number.ts   # æ•°å­—æ ¼å¼åŒ–
â”‚   â”œâ”€â”€ storage.ts         # å­˜å‚¨å·¥å…·
â”‚   â”œâ”€â”€ theme.ts           # ä¸»é¢˜å·¥å…·
â”‚   â””â”€â”€ tree.ts            # æ ‘å½¢æ•°æ®å·¥å…·
â”‚
â”œâ”€â”€ App.tsx                  # ğŸš€ åº”ç”¨æ ¹ç»„ä»¶
â”œâ”€â”€ main.tsx                 # ğŸ¯ åº”ç”¨å…¥å£
â”œâ”€â”€ global.css              # ğŸŒ å…¨å±€æ ·å¼
â””â”€â”€ vite-env.d.ts           # ğŸ”§ Vite ç±»å‹å£°æ˜
```

## ğŸ¯ Feature-Sliced Design è¯¦è§£

### å…¨å±€å…±äº«èµ„æº

è¿™äº›èµ„æºä¸å…·ä½“ä¸šåŠ¡é€»è¾‘è§£è€¦ï¼Œå¯åœ¨åº”ç”¨ä»»ä½•åœ°æ–¹å¤ç”¨ï¼š

- **`ui/`**: æœ€åŸºç¡€çš„åŸå­ç»„ä»¶ (Button, Input, Dialog)
- **`components/`**: å¤æ‚çš„é€šç”¨ç»„ä»¶ (Chart, Editor, Table)
- **`hooks/`**: é€šç”¨çš„è‡ªå®šä¹‰ Hooks
- **`utils/`**: å…¨å±€å·¥å…·å‡½æ•°
- **`types/`**: å…¨å±€å…±äº«ç±»å‹
- **`assets/`**: é™æ€èµ„æº

### åŠŸèƒ½æ¨¡å—èµ„æº (pages/*)

æ¯ä¸ªåŠŸèƒ½æ¨¡å—æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„"åˆ‡ç‰‡"ï¼ŒåŒ…å«å®ç°è‡ªèº«ä¸šåŠ¡æ‰€éœ€çš„æ‰€æœ‰èµ„æºã€‚

#### æ¨¡å—ç¤ºä¾‹: posts æ–‡ç« ç®¡ç†

```
pages/example/curd/posts/
â”œâ”€â”€ components/              # ç§æœ‰ç»„ä»¶
â”‚   â”œâ”€â”€ PostCard.tsx        # æ–‡ç« å¡ç‰‡
â”‚   â””â”€â”€ PostForm.tsx        # æ–‡ç« è¡¨å•
â”œâ”€â”€ api.ts                  # API æ¥å£
â”œâ”€â”€ hooks.ts                # ä¸šåŠ¡ Hooks
â”œâ”€â”€ store.ts                # æ¨¡å—çŠ¶æ€
â”œâ”€â”€ types.ts                # ç±»å‹å®šä¹‰
â”œâ”€â”€ index.tsx               # é¡µé¢å…¥å£
â”œâ”€â”€ list.tsx                # åˆ—è¡¨é¡µé¢
â”œâ”€â”€ detail.tsx              # è¯¦æƒ…é¡µé¢
â””â”€â”€ edit.tsx                # ç¼–è¾‘é¡µé¢
```

## ğŸ“‚ ç›®å½•å‘½åè§„èŒƒ

### æ–‡ä»¶å¤¹å‘½å

- ä½¿ç”¨ **kebab-case** (å°å†™ + è¿å­—ç¬¦)
- å…·æœ‰æè¿°æ€§çš„åç§°
- é¿å…ç‰¹æ®Šå­—ç¬¦å’Œç©ºæ ¼

```bash
# âœ… æ¨è
user-management/
api-services/
data-table/

# âŒ ä¸æ¨è
UserManagement/
apiServices/
data_table/
```

### æ–‡ä»¶å‘½å

- **ç»„ä»¶æ–‡ä»¶**: PascalCase + `.tsx`
- **å·¥å…·æ–‡ä»¶**: kebab-case + `.ts`
- **ç±»å‹æ–‡ä»¶**: kebab-case + `.ts`

```bash
# âœ… æ¨è
UserCard.tsx          # React ç»„ä»¶
user-service.ts       # å·¥å…·å‡½æ•°
api-types.ts          # ç±»å‹å®šä¹‰

# âŒ ä¸æ¨è
userCard.tsx
UserService.ts
apiTypes.ts
```

## ğŸ”„ æ¨¡å—é—´ä¾èµ–å…³ç³»

### ä¾èµ–å±‚çº§

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   pages/        â”‚ â† ä¸šåŠ¡æ¨¡å— (å¯ä¾èµ–ä¸‹å±‚)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   components/   â”‚ â† é€šç”¨ç»„ä»¶ (å¯ä¾èµ–ä¸‹å±‚)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ui/           â”‚ â† åŸºç¡€ç»„ä»¶ (æœ€åº•å±‚)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å¯¼å…¥è§„åˆ™

- **å‘ä¸‹ä¾èµ–**: ä¸Šå±‚å¯ä»¥å¯¼å…¥ä¸‹å±‚
- **ç¦æ­¢å‘ä¸Šä¾èµ–**: ä¸‹å±‚ä¸èƒ½å¯¼å…¥ä¸Šå±‚
- **åŒå±‚å¯¼å…¥**: åŒå±‚æ¨¡å—é—´è°¨æ…å¯¼å…¥

```tsx
// âœ… å…è®¸: pages å¯¼å…¥ components
import { DataTable } from '@/components/data-table';

// âœ… å…è®¸: components å¯¼å…¥ ui
import { Button } from '@/ui/button';

// âŒ ç¦æ­¢: ui å¯¼å…¥ components
import { DataTable } from '@/components/data-table';
```

## ğŸ“‹ æ–‡ä»¶ç»„ç»‡æœ€ä½³å®è·µ

### 1. å°±è¿‘ç®¡ç†åŸåˆ™

ç›¸å…³åŠŸèƒ½çš„ä»£ç åº”è¯¥ç»„ç»‡åœ¨åŒä¸€ä¸ªæ¨¡å—ç›®å½•ä¸‹ï¼š

```
posts/
â”œâ”€â”€ api.ts          # Posts ç›¸å…³ API
â”œâ”€â”€ types.ts        # Posts ç›¸å…³ç±»å‹
â”œâ”€â”€ hooks.ts        # Posts ç›¸å…³ Hooks
â””â”€â”€ components/     # Posts ä¸“ç”¨ç»„ä»¶
```

### 2. å•ä¸€èŒè´£åŸåˆ™

æ¯ä¸ªæ–‡ä»¶åº”è¯¥æœ‰æ˜ç¡®çš„èŒè´£ï¼š

```
user-service.ts     # åªå¤„ç†ç”¨æˆ·ç›¸å…³çš„ API
user-types.ts       # åªå®šä¹‰ç”¨æˆ·ç›¸å…³çš„ç±»å‹
user-hooks.ts       # åªåŒ…å«ç”¨æˆ·ç›¸å…³çš„ Hooks
```

### 3. ç»Ÿä¸€å¯¼å‡º

ä½¿ç”¨ `index.ts` æ–‡ä»¶ç»Ÿä¸€å¯¼å‡ºï¼š

```tsx title="components/index.ts"
export { default as DataTable } from './data-table';
export { default as UserCard } from './user-card';
export type { DataTableProps } from './data-table';
```

### è·¯å¾„åˆ«å

é¡¹ç›®é…ç½®äº†è·¯å¾„åˆ«åï¼Œæ–¹ä¾¿å¯¼å…¥ï¼š

```tsx
// ä½¿ç”¨åˆ«å
import { Button } from '@/ui/button';
import { useUser } from '@/hooks/use-user';
import { UserService } from '@/api/user-service';

// è€Œä¸æ˜¯ç›¸å¯¹è·¯å¾„
import { Button } from '../../../ui/button';
```

## ğŸ“ˆ æ‰©å±•é¡¹ç›®ç»“æ„

### æ·»åŠ æ–°æ¨¡å—

1. åœ¨ `pages/` ä¸‹åˆ›å»ºæ¨¡å—ç›®å½•
2. æ·»åŠ å¿…è¦çš„æ–‡ä»¶ (api.ts, types.ts, etc.)
3. åœ¨è·¯ç”±é…ç½®ä¸­æ³¨å†Œ
4. æ›´æ–°å¯¼èˆªèœå•

### æ·»åŠ æ–°ç»„ä»¶

1. åœ¨ `components/` ä¸‹åˆ›å»ºç»„ä»¶ç›®å½•
2. å®ç°ç»„ä»¶åŠŸèƒ½
3. æ·»åŠ åˆ° `index.ts` å¯¼å‡º
4. ç¼–å†™æ–‡æ¡£å’Œæµ‹è¯•

---

ç†è§£é¡¹ç›®ç»“æ„æ˜¯é«˜æ•ˆå¼€å‘çš„åŸºç¡€ã€‚éµå¾ªè¿™äº›ç»„ç»‡åŸåˆ™ï¼Œæ‚¨çš„ä»£ç å°†æ›´åŠ æ¸…æ™°ã€å¯ç»´æŠ¤å’Œå¯æ‰©å±•ã€‚
