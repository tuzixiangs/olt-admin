# Feature-Sliced Design æ¶æ„

Feature-Sliced Design (FSD) æ˜¯ OLT Admin é‡‡ç”¨çš„æ ¸å¿ƒæ¶æ„æ¨¡å¼ã€‚å®ƒå°†åº”ç”¨æŒ‰åŠŸèƒ½åˆ‡ç‰‡ç»„ç»‡ï¼Œå®ç°é«˜å†…èšã€ä½è€¦åˆçš„ä»£ç ç»“æ„ã€‚

## ğŸ¯ æ ¸å¿ƒç†å¿µ

### ä»€ä¹ˆæ˜¯ Feature-Sliced Designï¼Ÿ

Feature-Sliced Design æ˜¯ä¸€ç§å‰ç«¯æ¶æ„æ–¹æ³•è®ºï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š

> **å°†å®ç°åŒä¸€åŠŸèƒ½çš„ä»£ç ç»„ç»‡åœ¨ä¸€èµ·ï¼Œè€Œä¸æ˜¯æŒ‰æŠ€æœ¯ç±»å‹åˆ†æ•£åœ¨ä¸åŒç›®å½•ä¸­**

### ä¼ ç»Ÿæ¶æ„ vs FSD

#### ä¼ ç»Ÿæ¶æ„ (æŒ‰æŠ€æœ¯åˆ†å±‚)

```
src/
â”œâ”€â”€ components/     # æ‰€æœ‰ç»„ä»¶
â”œâ”€â”€ services/       # æ‰€æœ‰ API
â”œâ”€â”€ types/          # æ‰€æœ‰ç±»å‹
â”œâ”€â”€ hooks/          # æ‰€æœ‰ Hooks
â””â”€â”€ utils/          # æ‰€æœ‰å·¥å…·
```

**é—®é¢˜**:

- ä¿®æ”¹ä¸€ä¸ªåŠŸèƒ½éœ€è¦åœ¨å¤šä¸ªç›®å½•é—´è·³è½¬
- ä»£ç è€¦åˆåº¦é«˜ï¼Œéš¾ä»¥ç»´æŠ¤
- å›¢é˜Ÿåä½œæ—¶å®¹æ˜“äº§ç”Ÿå†²çª

#### FSD æ¶æ„ (æŒ‰åŠŸèƒ½åˆ†å±‚)

```
src/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ user-management/    # ç”¨æˆ·ç®¡ç†åŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ api.ts         # ç”¨æˆ· API
â”‚   â”‚   â”œâ”€â”€ types.ts       # ç”¨æˆ·ç±»å‹
â”‚   â”‚   â”œâ”€â”€ hooks.ts       # ç”¨æˆ· Hooks
â”‚   â”‚   â””â”€â”€ components/    # ç”¨æˆ·ç»„ä»¶
â”‚   â””â”€â”€ product-management/ # äº§å“ç®¡ç†åŠŸèƒ½
â””â”€â”€ shared/                # å…±äº«èµ„æº
```

**ä¼˜åŠ¿**:

- åŠŸèƒ½å†…èšï¼Œç›¸å…³ä»£ç åœ¨ä¸€èµ·
- æ˜“äºç†è§£å’Œç»´æŠ¤
- å›¢é˜Ÿå¯ä»¥å¹¶è¡Œå¼€å‘ä¸åŒåŠŸèƒ½

## ğŸ—ï¸ æ¶æ„å±‚çº§

FSD å°†åº”ç”¨åˆ†ä¸ºå¤šä¸ªå±‚çº§ï¼Œæ¯ä¸ªå±‚çº§æœ‰æ˜ç¡®çš„èŒè´£å’Œä¾èµ–å…³ç³»ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     app/        â”‚ â† åº”ç”¨å±‚ (é…ç½®ã€æä¾›è€…)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    pages/       â”‚ â† é¡µé¢å±‚ (è·¯ç”±é¡µé¢)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   widgets/      â”‚ â† éƒ¨ä»¶å±‚ (é¡µé¢å—)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  features/      â”‚ â† åŠŸèƒ½å±‚ (ç”¨æˆ·åœºæ™¯)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  entities/      â”‚ â† å®ä½“å±‚ (ä¸šåŠ¡å®ä½“)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   shared/       â”‚ â† å…±äº«å±‚ (å¯å¤ç”¨èµ„æº)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åœ¨ OLT Admin ä¸­çš„æ˜ å°„

æˆ‘ä»¬æ ¹æ®é¡¹ç›®ç‰¹ç‚¹ï¼Œå¯¹æ ‡å‡† FSD è¿›è¡Œäº†é€‚é…ï¼š

| FSD å±‚çº§ | OLT Admin ç›®å½• | è¯´æ˜ |
|----------|----------------|------|
| app | `src/App.tsx`, `src/main.tsx` | åº”ç”¨é…ç½®å’Œå¯åŠ¨ |
| pages | `src/pages/` | è·¯ç”±é¡µé¢å’ŒåŠŸèƒ½æ¨¡å— |
| widgets | `src/layouts/`, `src/components/` | é¡µé¢å¸ƒå±€å’Œå¤åˆç»„ä»¶ |
| features | `src/pages/*/` | å…·ä½“ä¸šåŠ¡åŠŸèƒ½ |
| entities | `src/api/`, `src/types/` | ä¸šåŠ¡å®ä½“å’Œæ•°æ®æ¨¡å‹ |
| shared | `src/ui/`, `src/hooks/`, `src/utils/` | å…±äº«èµ„æº |

## ğŸ“ ç›®å½•ç»“æ„è¯¦è§£

### 1. å…±äº«å±‚ (Shared)

å­˜æ”¾ä¸ä¸šåŠ¡æ— å…³çš„å¯å¤ç”¨èµ„æºï¼š

```
src/
â”œâ”€â”€ ui/              # åŸºç¡€ UI ç»„ä»¶
â”‚   â”œâ”€â”€ button.tsx
â”‚   â”œâ”€â”€ input.tsx
â”‚   â””â”€â”€ dialog.tsx
â”œâ”€â”€ hooks/           # é€šç”¨ Hooks
â”‚   â”œâ”€â”€ use-media-query.ts
â”‚   â””â”€â”€ use-copy-to-clipboard.ts
â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ format.ts
â”‚   â””â”€â”€ validation.ts
â””â”€â”€ assets/          # é™æ€èµ„æº
    â”œâ”€â”€ icons/
    â””â”€â”€ images/
```

**ç‰¹ç‚¹**:

- ä¸ä¸šåŠ¡é€»è¾‘è§£è€¦
- å¯åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨
- ä¸ä¾èµ–å…¶ä»–å±‚çº§

### 2. å®ä½“å±‚ (Entities)

å®šä¹‰ä¸šåŠ¡å®ä½“å’Œæ•°æ®æ¨¡å‹ï¼š

```
src/
â”œâ”€â”€ api/             # å…¨å±€ API æœåŠ¡
â”‚   â”œâ”€â”€ user.ts      # ç”¨æˆ· API
â”‚   â””â”€â”€ upload.ts    # ä¸Šä¼  API
â””â”€â”€ types/           # å…¨å±€ç±»å‹
    â”œâ”€â”€ user.ts      # ç”¨æˆ·ç±»å‹
    â””â”€â”€ upload.ts    # ä¸Šä¼ ç±»å‹
```

**ç‰¹ç‚¹**:

- å®šä¹‰æ ¸å¿ƒä¸šåŠ¡æ¦‚å¿µ
- æä¾›æ•°æ®è®¿é—®æ¥å£
- å¯è¢«ä¸Šå±‚ä½¿ç”¨

### 3. åŠŸèƒ½å±‚ (Features)

å®ç°å…·ä½“çš„ç”¨æˆ·åœºæ™¯å’Œä¸šåŠ¡åŠŸèƒ½ï¼š

```
src/pages/user-management/
â”œâ”€â”€ api.ts           # ç”¨æˆ·ç®¡ç† API
â”œâ”€â”€ types.ts         # ç”¨æˆ·ç®¡ç†ç±»å‹
â”œâ”€â”€ hooks.ts         # ç”¨æˆ·ç®¡ç† Hooks
â”œâ”€â”€ store.ts         # ç”¨æˆ·ç®¡ç†çŠ¶æ€
â”œâ”€â”€ components/      # ç”¨æˆ·ç®¡ç†ç»„ä»¶
â”‚   â”œâ”€â”€ UserForm.tsx
â”‚   â””â”€â”€ UserCard.tsx
â”œâ”€â”€ list.tsx         # ç”¨æˆ·åˆ—è¡¨é¡µ
â”œâ”€â”€ detail.tsx       # ç”¨æˆ·è¯¦æƒ…é¡µ
â””â”€â”€ edit.tsx         # ç”¨æˆ·ç¼–è¾‘é¡µ
```

**ç‰¹ç‚¹**:

- å®ç°å®Œæ•´çš„ç”¨æˆ·åœºæ™¯
- åŒ…å«è¯¥åŠŸèƒ½çš„æ‰€æœ‰èµ„æº
- é«˜åº¦å†…èšï¼Œä½è€¦åˆ

### 4. é¡µé¢å±‚ (Pages)

ç»„ç»‡è·¯ç”±é¡µé¢å’ŒåŠŸèƒ½å…¥å£ï¼š

```
src/pages/
â”œâ”€â”€ dashboard/       # ä»ªè¡¨ç›˜
â”œâ”€â”€ user-management/ # ç”¨æˆ·ç®¡ç†
â”œâ”€â”€ product-management/ # äº§å“ç®¡ç†
â””â”€â”€ settings/        # ç³»ç»Ÿè®¾ç½®
```

**ç‰¹ç‚¹**:

- å¯¹åº”è·¯ç”±ç»“æ„
- ç»„åˆä¸‹å±‚åŠŸèƒ½
- æä¾›é¡µé¢å…¥å£

## ğŸ”„ ä¾èµ–è§„åˆ™

### ä¸¥æ ¼çš„ä¾èµ–æ–¹å‘

```
app â†’ pages â†’ widgets â†’ features â†’ entities â†’ shared
```

**è§„åˆ™**:

- åªèƒ½å‘ä¸‹ä¾èµ– (å³ä¾§å±‚çº§)
- ç¦æ­¢å‘ä¸Šä¾èµ– (å·¦ä¾§å±‚çº§)
- åŒå±‚çº§é—´è°¨æ…ä¾èµ–

### å¯¼å…¥ç¤ºä¾‹

```tsx
// âœ… å…è®¸: pages å¯¼å…¥ shared
import { Button } from '@/ui/button';
import { useMediaQuery } from '@/hooks/use-media-query';

// âœ… å…è®¸: features å¯¼å…¥ entities
import { getUserList } from '@/api/user';
import type { User } from '@/types/user';

// âŒ ç¦æ­¢: shared å¯¼å…¥ features
import { UserForm } from '@/pages/user-management/components/UserForm';

// âŒ ç¦æ­¢: entities å¯¼å…¥ features
import { useUserList } from '@/pages/user-management/hooks';
```

## ğŸ¯ å®è·µåŸåˆ™

### 1. å°±è¿‘ç®¡ç†åŸåˆ™

ç›¸å…³åŠŸèƒ½çš„ä»£ç åº”è¯¥ç»„ç»‡åœ¨ä¸€èµ·ï¼š

```
user-management/
â”œâ”€â”€ api.ts          # ç”¨æˆ· API
â”œâ”€â”€ types.ts        # ç”¨æˆ·ç±»å‹
â”œâ”€â”€ hooks.ts        # ç”¨æˆ· Hooks
â”œâ”€â”€ store.ts        # ç”¨æˆ·çŠ¶æ€
â””â”€â”€ components/     # ç”¨æˆ·ç»„ä»¶
```

### 2. å•ä¸€èŒè´£åŸåˆ™

æ¯ä¸ªæ¨¡å—åº”è¯¥æœ‰æ˜ç¡®çš„èŒè´£ï¼š

```
user-api.ts         # åªå¤„ç†ç”¨æˆ· API
user-types.ts       # åªå®šä¹‰ç”¨æˆ·ç±»å‹
user-hooks.ts       # åªåŒ…å«ç”¨æˆ· Hooks
```

### 3. å¼€æ”¾å°é—­åŸåˆ™

æ¨¡å—åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­ï¼š

```tsx
// é€šè¿‡é…ç½®æ‰©å±•åŠŸèƒ½
<UserTable 
  columns={customColumns}
  actions={customActions}
  filters={customFilters}
/>
```

## ğŸš€ å®é™…åº”ç”¨

### åˆ›å»ºæ–°åŠŸèƒ½æ¨¡å—

1. **ç¡®å®šåŠŸèƒ½è¾¹ç•Œ**

   ```
   äº§å“ç®¡ç†åŠŸèƒ½åŒ…æ‹¬ï¼š
   - äº§å“åˆ—è¡¨
   - äº§å“è¯¦æƒ…
   - äº§å“ç¼–è¾‘
   - äº§å“åˆ›å»º
   ```

2. **åˆ›å»ºæ¨¡å—ç›®å½•**

   ```bash
   mkdir src/pages/product-management
   ```

3. **æ·»åŠ æ ¸å¿ƒæ–‡ä»¶**

   ```
   product-management/
   â”œâ”€â”€ api.ts          # äº§å“ API
   â”œâ”€â”€ types.ts        # äº§å“ç±»å‹
   â”œâ”€â”€ hooks.ts        # äº§å“ Hooks
   â”œâ”€â”€ store.ts        # äº§å“çŠ¶æ€
   â”œâ”€â”€ index.tsx       # æ¨¡å—å…¥å£
   â””â”€â”€ components/     # äº§å“ç»„ä»¶
   ```

4. **å®ç°åŠŸèƒ½**

   ```tsx
   // api.ts
   export const getProducts = () => api.get('/products');
   export const createProduct = (data) => api.post('/products', data);

   // types.ts
   export interface Product {
     id: string;
     name: string;
     price: number;
   }

   // hooks.ts
   export const useProducts = () => {
     return useQuery(['products'], getProducts);
   };
   ```

### é‡æ„ç°æœ‰ä»£ç 

å¦‚æœå‘ç°ä»£ç åˆ†æ•£åœ¨å¤šä¸ªåœ°æ–¹ï¼Œå¯ä»¥æŒ‰ä»¥ä¸‹æ­¥éª¤é‡æ„ï¼š

1. **è¯†åˆ«åŠŸèƒ½è¾¹ç•Œ**
2. **åˆ›å»ºæ–°çš„åŠŸèƒ½æ¨¡å—**
3. **è¿ç§»ç›¸å…³ä»£ç **
4. **æ›´æ–°å¯¼å…¥è·¯å¾„**
5. **åˆ é™¤æ—§æ–‡ä»¶**

### ä½•æ—¶åº”è¯¥æå‡èµ„æºï¼Ÿ

å½“ä¸ç¡®å®šæŸä¸ªèµ„æºæ˜¯å¦éœ€è¦å…±äº«æ—¶ï¼Œé»˜è®¤åº”å°†å…¶è®¾ä¸ºå­æ¨¡å—ç§æœ‰ã€‚å¦‚æœåç»­å‘ç°æœ‰å¤šä¸ªå­æ¨¡å—éœ€è¦ä½¿ç”¨è¯¥èµ„æºï¼Œå†é‡‡ç”¨â€œå°±è¿‘æå‡â€åŸåˆ™ï¼Œå°†å…¶æå‡åˆ°çˆ¶æ¨¡å—çš„å…¬å…±å±‚ï¼ˆå¦‚ dict/, utils/ ç­‰ç›®å½•ä¸­ï¼‰ã€‚

## ğŸ“Š æ¶æ„ä¼˜åŠ¿

### å¼€å‘æ•ˆç‡

- **å¿«é€Ÿå®šä½**: åŠŸèƒ½ç›¸å…³ä»£ç åœ¨ä¸€èµ·
- **å¹¶è¡Œå¼€å‘**: å›¢é˜Ÿå¯ä»¥ç‹¬ç«‹å¼€å‘ä¸åŒåŠŸèƒ½
- **å‡å°‘å†²çª**: é¿å…å¤šäººä¿®æ”¹åŒä¸€æ–‡ä»¶

### ä»£ç è´¨é‡

- **é«˜å†…èš**: ç›¸å…³ä»£ç ç»„ç»‡åœ¨ä¸€èµ·
- **ä½è€¦åˆ**: æ¨¡å—é—´ä¾èµ–å…³ç³»æ¸…æ™°
- **æ˜“æµ‹è¯•**: åŠŸèƒ½æ¨¡å—ç‹¬ç«‹ï¼Œä¾¿äºå•å…ƒæµ‹è¯•

### ç»´æŠ¤æ€§

- **æ˜“ç†è§£**: ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ–°äººå®¹æ˜“ä¸Šæ‰‹
- **æ˜“æ‰©å±•**: æ·»åŠ æ–°åŠŸèƒ½ä¸å½±å“ç°æœ‰ä»£ç 
- **æ˜“é‡æ„**: æ¨¡å—è¾¹ç•Œæ¸…æ™°ï¼Œé‡æ„é£é™©ä½

## ğŸ”§ å·¥å…·æ”¯æŒ

### è·¯å¾„åˆ«å

é…ç½®è·¯å¾„åˆ«åç®€åŒ–å¯¼å…¥ï¼š

```tsx
// tsconfig.json
{
  "compilerOptions": {
    "paths": {
      "@/*": ["src/*"],
      "#/*": ["src/types/*"]
    }
  }
}
```

### Biome è§„åˆ™

é…ç½® Biome è§„åˆ™å¼ºåˆ¶ä¾èµ–æ–¹å‘ï¼š

```js
// biome.json
{
 "$schema": "https://biomejs.dev/schemas/1.9.4/schema.json",
 ...
}

```

## ğŸ“š å»¶ä¼¸é˜…è¯»

- [Feature-Sliced Design å®˜æ–¹æ–‡æ¡£](https://feature-sliced.design/)
- [é¡¹ç›®ç»“æ„è¯¦è§£](../getting-started/project-structure)
- [ä»£ç é£æ ¼æŒ‡å—](../development/code-style)

---

Feature-Sliced Design ä¸ä»…æ˜¯ä¸€ç§æ¶æ„æ¨¡å¼ï¼Œæ›´æ˜¯ä¸€ç§æ€ç»´æ–¹å¼ã€‚å®ƒå¸®åŠ©æˆ‘ä»¬æ„å»ºæ›´åŠ æ¸…æ™°ã€å¯ç»´æŠ¤çš„å‰ç«¯åº”ç”¨ã€‚
